"0","## Exercise 1: Plot each time-series in levels before applying any transformations, clearly indicating data sources "
"0",""
"0","# Combine data into long format"
"0","data_raw <- bind_rows("
"0","  credit_spread %>% "
"0","    select(date, value) %>% "
"0","    mutate(series    = ""Credit Spread"","
"0","           full_name = ""ICE BofA Euro High Yield Index Option-Adjusted Spread""),"
"0","  industrial %>% "
"0","    select(date, value) %>% "
"0","    mutate(series    = ""Industrial Production"","
"0","           full_name = ""Germany: Industrial Production Volume (Excl. Construction)""),"
"0","  cpi_raw %>% "
"0","    select(date, value) %>% "
"0","    mutate(series    = ""Consumer Price Index"","
"0","           full_name = ""Germany: Harmonized Consumer Price Index (HICP, All Items)"")"
"0",")"
"0",""
"0","# Set color palette "
"0","series_colors <- c("
"0","  ""Credit Spread""        = ""#1f77b4"", # Example color (blue)"
"0","  ""Industrial Production"" = ""#ff7f0e"", # Example color (orange)"
"0","  ""Consumer Price Index""  = ""#2ca02c""  # Example color (green)"
"0",")"
"0",""
"0","# Create a custom template for plots ----"
"0","theme_academic_individual <- function(base_size = 12) {"
"0","  theme_bw(base_size = base_size) + # theme_bw or theme_classic are good academic starting points"
"0","    theme("
"0","      plot.title          = element_text(face = ""bold"", size = rel(1.2), hjust = 0.5),"
"0","      plot.subtitle       = element_text(size = rel(0.9), hjust = 0.5, margin = margin(b = 10)),"
"0","      axis.title.x        = element_text(size = rel(1.0), margin = margin(t = 10)),"
"0","      axis.title.y        = element_text(size = rel(1.0), margin = margin(r = 10)),"
"0","      axis.text           = element_text(size = rel(0.9)),"
"0","      panel.grid.minor    = element_blank(),"
"0","      panel.grid.major    = element_line(color = ""grey85"", linewidth = 0.4),"
"0","      plot.caption        = element_text(size = rel(0.8), hjust = 0, margin = margin(t = 10)),"
"0","      plot.margin         = margin(10, 15, 10, 10) # t, r, b, l"
"0","    )"
"0","}"
"0",""
"0",""
"0","# Function to create nice axisbreaks for every plot automatically ---"
"0","create_nice_breaks <- function(min_val, max_val, n = 5) {"
"0","  pretty(c(min_val, max_val), n)"
"0","}"
"0",""
"0","# Create and save individual plots ----"
"0",""
"0","# Plot 1: Credit Spread"
"0","data_credit <- data_raw %>% filter(series == ""Credit Spread"")"
"0","plot_credit_spread <- ggplot(data_credit, aes(x = date, y = value)) +"
"0","  geom_line(color = series_colors[""Credit Spread""], linewidth = 0.8) +"
"0","  scale_x_date("
"0","    date_breaks = ""2 years"","
"0","    date_labels = ""%Y"","
"0","    limits      = c(min(data_raw$date), max(data_raw$date)), # Consistent x-axis range"
"0","    expand      = c(0.01, 0.01)"
"0","  ) +"
"0","  scale_y_continuous("
"0","    name   = ""ICE BofA Euro High Yield Index Option-Adjusted Spread (Basis Points)"","
"0","    breaks = create_nice_breaks(min(data_credit$value), max(data_credit$value), n = 6) # More breaks"
"0","  ) +"
"0","  labs("
"0","    title   = ""Credit Spread Time Series (2000-2019)"", # More focused title"
"0","    x       = ""Date"","
"0","    caption = ""Source: FRED (BAMLHE00EHYIOAS)"""
"0","  ) +"
"0","  theme_academic_individual()"
"0",""
"0","print(plot_credit_spread)"
